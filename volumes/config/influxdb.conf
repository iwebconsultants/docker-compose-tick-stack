# Global configuration settings for InfluxDB

# [meta] section manages cluster-wide settings
[meta]
  dir = "/var/lib/influxdb/meta"       # Meta data directory
  retention-autocreate = true          # Automatically create retention policies

# [data] section is used for core data engine settings
[data]
  dir = "/var/lib/influxdb/data"       # Data directory
  wal-dir = "/var/lib/influxdb/wal"    # WAL (Write-Ahead-Log) directory
  query-log-enabled = true
  cache-max-memory-size = "1g"         # Maximum memory size for caching

# [http] section configures the HTTP API
[http]
  bind-address = ":8086"               # Address for HTTP API (Default: 8086)
  auth-enabled = false                 # Set to `true` to enable authentication
  log-enabled = true                   # Log all HTTP requests
  write-tracing = false                # Disable verbose logging for writes
  pprof-enabled = false                # Profile performance in HTTP endpoint
  https-enabled = false                # We're using HTTP; disable HTTPS
#  https-certificate = "/path/to/cert.pem"    # Commented out because HTTPS is disabled
#  https-private-key = "/path/to/key.pem"

# Optional: Configure CORS settings
  max-row-limit = 0                    # Unlimited rows in query results (useful for large queries)

# Monitor and collect metrics
[monitor]
  store-enabled = true                 # Store system monitoring metrics
  store-database = "_internal"         # Write stats to "_internal" database
  store-interval = "10s"               # Time interval for writing stats

# Retention policies setup (database retention handling)
[retention]
  enabled = true                       # Enable retention policy enforcement
  check-interval = "30m"               # How often to check for data to evict

# Continuous Queries
[continuous_queries]
  enabled = true                       # Enable continuous queries
  query-stats-enabled = false          # Log continuous query stats for debugging
  recompute-previous-n = 2             # Number of intervals to rerun
  recompute-no-older-than = "10m"      # How far back should reruns go
  compute-runs-per-interval = 10       # Number of compute runs per interval
  compute-no-more-than = "2m"          # Don't retry after 2 minutes of computing

# Logging configuration
[logging]
  enabled = true                       # Enable logging
  level = "info"                       # Logging level (debug, info, warn, error)
  file = "/var/log/influxdb/influxdb.log"  # Path to log file